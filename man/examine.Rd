% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class_diagnostics.R
\name{examine}
\alias{examine}
\alias{examine_outliers}
\alias{examine_changepoints}
\title{Diagnostic functions}
\usage{
examine_outliers(
  x,
  method = c("Hampel", "IQR", "Top"),
  parameter = 3,
  window = NULL
)

examine_changepoints(
  x,
  moment = c("mean", "variance"),
  method = c("PELT", "AMOC", "BinSeg"),
  window = NULL,
  ...
)
}
\arguments{
\item{x}{an object of class \code{result.goldfish} output from an
\code{\link{estimate}} call.}

\item{method}{Choice of \code{"AMOC"}, \code{"PELT"} or \code{"BinSeg"}.
For a detail description see \code{\link[changepoint]{cpt.mean}} or
\code{\link[changepoint]{cpt.var}}. The default value is \code{"PELT"}.}

\item{parameter}{An integer that represents the number of absolute outliers
to identify, the threshold for the Hampel filter, i.e. \code{parameter * MAD},
or the threshold beyond the interquartile range halved, i.e.
\code{parameter/2 * IQR}.}

\item{window}{The window half-width for the Hampel filter.
By default it is half the width of the event sequence.}

\item{moment}{character argument to choose between "mean" or "variance".
See section \emph{Change point} for details.}

\item{...}{additional arguments to be passed to the functions in the
\pkg{changepoint} package.}
}
\value{
\code{NULL} if neither outliers nor change points are identified.
An object of class \code{ggplot} object from a call of \code{\link[ggplot2:ggplot]{ggplot2::ggplot()}}.
It can be modified using the \code{ggplot2} syntax.
}
\description{
Provide diagnostic functions for an object of class \code{result.goldfish}.
\code{outliers} helps to identify outliers events.
\code{changepoints} helps to identify where a change point
in the events sequence is presented using the log-likelihood.
}
\section{Outliers}{

\code{examineOutliers} creates a plot with the log-likelihood of the events
in the y-axis and the event index in the x-axis, identifying observations
with labels indicating the sender and recipient.
}

\section{Change point}{

The parameter \code{moment} controls which method from the package
\pkg{changepoint} is used:
\describe{
\item{\code{"mean"}}{It uses the \code{\link[changepoint]{cpt.mean}}
function to investigate optimal positioning and (potentially) number
of change points for the log-likelihood of the events in mean.}
\item{\code{"variance"}}{It uses the
\code{\link[changepoint]{cpt.var}}
function to investigate optimal positioning and (potentially) number
of change points for the log-likelihood of the events in variance}
}
The function call creates a plot with the log-likelihood of the events
in the y-axis and the event index in the x-axis, highlighting the change
point sections identified by the method.
}

\examples{
# A multinomial receiver choice model
data("Social_Evolution")
callNetwork <- make_network(nodes = actors, directed = TRUE)
callNetwork <- link_events(
  x = callNetwork, change_event = calls,
  nodes = actors
)
callsDependent <- make_dependent_events(
  events = calls, nodes = actors,
  default_network = callNetwork
)
\dontshow{
callsDependent <- callsDependent[1:50, ]
}
socialEvolutionData <- make_data(callsDependent, callNetwork, calls, actors)
mod01 <- estimate_dynam(
  callsDependent ~ inertia + recip + trans,
  sub_model = "choice",
  data = socialEvolutionData,
  control_estimation = set_estimation_opt(
    return_interval_loglik = TRUE,
    engine = "default_c"
  )
)

examine_outliers(mod01)

examine_changepoints(mod01)
}
